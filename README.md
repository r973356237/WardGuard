# WardGuard - ç§‘å®¤ç®¡ç†ç³»ç»Ÿ

## é¡¹ç›®ç®€ä»‹

WardGuard æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ç§‘å®¤ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæä¾›ç”¨æˆ·ç®¡ç†ã€å‘˜å·¥ç®¡ç†ã€ç‰©èµ„ç®¡ç†å’Œè¯å“ç®¡ç†ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§
- ğŸ  **ä¸»é¡µä»ªè¡¨ç›˜** - æ•°æ®æ¦‚è§ˆã€è¿‡æœŸæé†’ã€å¿«é€Ÿç»Ÿè®¡
- ğŸ‘¥ **å‘˜å·¥ä¿¡æ¯ç®¡ç†** - å‘˜å·¥æ¡£æ¡ˆã€ä¿¡æ¯ç»´æŠ¤ã€æƒé™ç®¡ç†
- ğŸ¥ **ä½“æ£€ä¿¡æ¯ç®¡ç†** - ä½“æ£€è®°å½•ã€å¥åº·æ¡£æ¡ˆã€åˆ°æœŸæé†’
- ğŸ“¦ **ç‰©èµ„ä¿¡æ¯ç®¡ç†** - åº“å­˜ç®¡ç†ã€è¿‡æœŸç›‘æ§ã€é‡‡è´­æé†’
- ğŸ’Š **è¯å“ä¿¡æ¯ç®¡ç†** - è¯å“åº“å­˜ã€æœ‰æ•ˆæœŸç®¡ç†ã€ç”¨è¯è®°å½•
- ğŸ“… **å€’ç­æ—¥å†ç³»ç»Ÿ** - æ’ç­ç®¡ç†ã€ç­æ¬¡æŸ¥çœ‹ã€æ—¥ç¨‹å®‰æ’
- ğŸ‘¤ **ç”¨æˆ·è®¤è¯ä¸æˆæƒ** - å®‰å…¨ç™»å½•ã€æƒé™æ§åˆ¶ã€ä¼šè¯ç®¡ç†
- ğŸ“Š **æ•°æ®å¯è§†åŒ–** - å›¾è¡¨å±•ç¤ºã€è¶‹åŠ¿åˆ†æã€ç»Ÿè®¡æŠ¥è¡¨
- ğŸ”” **æ™ºèƒ½æé†’** - è¿‡æœŸé¢„è­¦ã€åˆ°æœŸé€šçŸ¥ã€å¼‚å¸¸æé†’
- ğŸ“§ **é‚®ä»¶æé†’æœåŠ¡** - è¿‡æœŸç‰©èµ„å’Œè¯å“çš„è‡ªåŠ¨é‚®ä»¶æé†’

## é¡¹ç›®ç»“æ„
```
WardGuard/
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ DEPLOYMENT.md                # éƒ¨ç½²è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ecosystem.config.json        # PM2 è¿›ç¨‹ç®¡ç†é…ç½®
â”œâ”€â”€ database_init.sql            # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ backup_database.sh           # æ•°æ®åº“å¤‡ä»½è„šæœ¬
â”œâ”€â”€ deploy.sh                    # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ start.sh                     # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ stop.sh                      # åœæ­¢è„šæœ¬
â”œâ”€â”€ client/                      # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ build/                   # å‰ç«¯æ„å»ºäº§ç‰©
â”‚   â”œâ”€â”€ public/                  # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ logo.png             # ç³»ç»ŸLogo
â”‚   â”‚   â””â”€â”€ ...                  # å…¶ä»–é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ src/                     # å‰ç«¯æºç 
â”‚   â”‚   â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar/         # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ CollapsibleFilter/ # å¯æŠ˜å ç­›é€‰ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ImportExportButtons/ # å¯¼å…¥å¯¼å‡ºæŒ‰é’®
â”‚   â”‚   â”‚   â”œâ”€â”€ PermissionSettings/ # æƒé™è®¾ç½®ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ShiftCalendar/   # å€’ç­æ—¥å†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ api.ts           # API é…ç½®
â”‚   â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Login/           # ç™»å½•é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Register/        # æ³¨å†Œé¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx    # ä¸»é¡µä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ Employees/       # å‘˜å·¥ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ Medicines/       # è¯å“ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ Supplies/        # ç‰©èµ„ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ MedicalExams/    # ä½“æ£€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰ React Hooks
â”‚   â”‚   â””â”€â”€ App.tsx              # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ package.json             # å‰ç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ express/                     # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ .env.development         # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ .env.production          # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ config.js                # é…ç½®ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ db.js                    # æ•°æ®åº“è¿æ¥æ¨¡å—
â”‚   â”œâ”€â”€ index.js                 # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ controllers/             # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ dashboardController.js
â”‚   â”‚   â”œâ”€â”€ employeeController.js
â”‚   â”‚   â”œâ”€â”€ medicalExaminationController.js
â”‚   â”‚   â”œâ”€â”€ medicineController.js
â”‚   â”‚   â”œâ”€â”€ operationRecordController.js
â”‚   â”‚   â”œâ”€â”€ permissionController.js
â”‚   â”‚   â”œâ”€â”€ supplyController.js
â”‚   â”‚   â”œâ”€â”€ systemController.js
â”‚   â”‚   â””â”€â”€ userController.js
â”‚   â”œâ”€â”€ routes/                  # è·¯ç”±å±‚
â”‚   â”‚   â”œâ”€â”€ dashboardRoutes.js
â”‚   â”‚   â”œâ”€â”€ employeeRoutes.js
â”‚   â”‚   â”œâ”€â”€ medicalExaminationRoutes.js
â”‚   â”‚   â”œâ”€â”€ medicineRoutes.js
â”‚   â”‚   â”œâ”€â”€ operationRecordRoutes.js
â”‚   â”‚   â”œâ”€â”€ permissionRoutes.js
â”‚   â”‚   â”œâ”€â”€ supplyRoutes.js
â”‚   â”‚   â”œâ”€â”€ systemRoutes.js
â”‚   â”‚   â””â”€â”€ userRoutes.js
â”‚   â”œâ”€â”€ middleware/              # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.js              # èº«ä»½éªŒè¯ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ check_permission.js  # æƒé™æ£€æŸ¥ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ error_handler.js     # é”™è¯¯å¤„ç†ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ validation.js        # æ•°æ®éªŒè¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ services/                # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ emailService.js      # é‚®ä»¶æœåŠ¡
â”‚   â”‚   â””â”€â”€ schedulerService.js  # å®šæ—¶ä»»åŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ models/                  # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ user_model.js
â”‚   â”œâ”€â”€ migrations/              # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ migration_manager.js # è¿ç§»ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ *.sql               # SQL è¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ dbDiagnostic.js     # æ•°æ®åº“è¯Šæ–­å·¥å…·
â”‚   â””â”€â”€ package.json             # åç«¯ä¾èµ–é…ç½®
â””â”€â”€ .vercel/                     # Vercel éƒ¨ç½²é…ç½®
    â””â”€â”€ project.json
```

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** - ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **Ant Design** - ä¼ä¸šçº§UIç»„ä»¶åº“
- **Axios** - HTTPå®¢æˆ·ç«¯
- **React Router** - å‰ç«¯è·¯ç”±ç®¡ç†
- **React Hooks** - çŠ¶æ€ç®¡ç†å’Œå‰¯ä½œç”¨å¤„ç†

### åç«¯
- **Node.js** - JavaScriptè¿è¡Œæ—¶ç¯å¢ƒ
- **Express.js** - Webåº”ç”¨æ¡†æ¶
- **MySQL** - å…³ç³»å‹æ•°æ®åº“
- **JWT** - èº«ä»½è®¤è¯
- **Multer** - æ–‡ä»¶ä¸Šä¼ å¤„ç†
- **Node-cron** - å®šæ—¶ä»»åŠ¡è°ƒåº¦
- **Nodemailer** - é‚®ä»¶å‘é€æœåŠ¡

### éƒ¨ç½²ä¸è¿ç»´
- **PM2** - è¿›ç¨‹ç®¡ç†å™¨
- **Vercel** - å‰ç«¯éƒ¨ç½²å¹³å°
- **Linux/Windows** - æœåŠ¡å™¨ç¯å¢ƒæ”¯æŒ

## ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 16.0.0
- **npm**: >= 8.0.0
- **MySQL**: >= 8.0
- **æ“ä½œç³»ç»Ÿ**: Windows 10+ / Linux / macOS

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd WardGuard
```

### 2. æ•°æ®åº“åˆå§‹åŒ–
```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p
CREATE DATABASE wardguard;

# å¯¼å…¥åˆå§‹åŒ–è„šæœ¬
mysql -u root -p wardguard < database_init.sql
```

### 3. åç«¯é…ç½®ä¸å¯åŠ¨
```bash
cd express

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.development .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯

# å¯åŠ¨åç«¯æœåŠ¡
npm start
```

### 4. å‰ç«¯é…ç½®ä¸å¯åŠ¨
```bash
cd client

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm start
```

### 5. è®¿é—®åº”ç”¨
- å‰ç«¯åœ°å€: http://localhost:3001
- åç«¯API: http://localhost:3000

## ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### ä½¿ç”¨PM2éƒ¨ç½²
```bash
# å®‰è£…PM2
npm install -g pm2

# ä½¿ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨
pm2 start ecosystem.config.json

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs wardguard
```

### ä½¿ç”¨è„šæœ¬éƒ¨ç½²
```bash
# ä¸€é”®éƒ¨ç½²
./deploy.sh

# å¯åŠ¨æœåŠ¡
./start.sh

# åœæ­¢æœåŠ¡
./stop.sh
```

## é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®
åç«¯é¡¹ç›®æ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼š
- `.env.development` - å¼€å‘ç¯å¢ƒ
- `.env.production` - ç”Ÿäº§ç¯å¢ƒ

ä¸»è¦é…ç½®é¡¹ï¼š
```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=wardguard

# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=production

# JWTé…ç½®
JWT_SECRET=your_jwt_secret

# é‚®ä»¶æœåŠ¡é…ç½®
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_email@example.com
SMTP_PASS=your_password
```

## åŠŸèƒ½æ¨¡å—

### ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·æ³¨å†Œä¸ç™»å½•
- æƒé™æ§åˆ¶ä¸è§’è‰²ç®¡ç†
- ç”¨æˆ·ä¿¡æ¯ç»´æŠ¤

### å‘˜å·¥ç®¡ç†
- å‘˜å·¥æ¡£æ¡ˆç®¡ç†
- æ‰¹é‡å¯¼å…¥å¯¼å‡º
- çŠ¶æ€è·Ÿè¸ª

### ä½“æ£€ç®¡ç†
- ä½“æ£€è®°å½•ç®¡ç†
- åˆ°æœŸæé†’
- å¥åº·æ¡£æ¡ˆ

### ç‰©èµ„ç®¡ç†
- åº“å­˜ç®¡ç†
- è¿‡æœŸç›‘æ§
- é‡‡è´­æé†’

### è¯å“ç®¡ç†
- è¯å“åº“å­˜
- æœ‰æ•ˆæœŸç®¡ç†
- ç”¨è¯è®°å½•

### ç³»ç»ŸåŠŸèƒ½
- æ•°æ®ä»ªè¡¨ç›˜
- å€’ç­æ—¥å†
- é‚®ä»¶æé†’
- æ“ä½œæ—¥å¿—

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- ä½¿ç”¨TypeScriptè¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ªESLintä»£ç è§„èŒƒ
- ç»„ä»¶é‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹
- ä½¿ç”¨Hooksç®¡ç†çŠ¶æ€

### ç›®å½•ç»“æ„è¯´æ˜
- `client/src/components/` - å¯å¤ç”¨ç»„ä»¶
- `client/src/pages/` - é¡µé¢ç»„ä»¶
- `express/controllers/` - ä¸šåŠ¡é€»è¾‘æ§åˆ¶å™¨
- `express/routes/` - APIè·¯ç”±å®šä¹‰
- `express/middleware/` - ä¸­é—´ä»¶
- `express/services/` - ä¸šåŠ¡æœåŠ¡å±‚

## å¸¸è§é—®é¢˜

### æ•°æ®åº“è¿æ¥å¤±è´¥
æ£€æŸ¥æ•°æ®åº“é…ç½®ä¿¡æ¯å’ŒæœåŠ¡çŠ¶æ€ï¼š
```bash
# æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
systemctl status mysql

# æµ‹è¯•æ•°æ®åº“è¿æ¥
mysql -u root -p -h localhost
```

### å‰ç«¯æ„å»ºå¤±è´¥
æ¸…ç†ç¼“å­˜å¹¶é‡æ–°å®‰è£…ä¾èµ–ï¼š
```bash
cd client
rm -rf node_modules package-lock.json
npm install
npm run build
```

### PM2è¿›ç¨‹å¼‚å¸¸
é‡å¯PM2è¿›ç¨‹ï¼š
```bash
pm2 restart wardguard
pm2 logs wardguard
```

## æ›´æ–°æ—¥å¿—

### v1.0.0 (å½“å‰ç‰ˆæœ¬)
- âœ… å®Œæ•´çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- âœ… å‘˜å·¥ä¿¡æ¯ç®¡ç†æ¨¡å—
- âœ… ä½“æ£€ä¿¡æ¯ç®¡ç†æ¨¡å—
- âœ… ç‰©èµ„ç®¡ç†æ¨¡å—
- âœ… è¯å“ç®¡ç†æ¨¡å—
- âœ… å€’ç­æ—¥å†ç³»ç»Ÿ
- âœ… é‚®ä»¶æé†’æœåŠ¡
- âœ… æ•°æ®å¯è§†åŒ–ä»ªè¡¨ç›˜
- âœ… æƒé™æ§åˆ¶ç³»ç»Ÿ
- âœ… æ‰¹é‡å¯¼å…¥å¯¼å‡ºåŠŸèƒ½

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- é¡¹ç›®Issues: [GitHub Issues](https://github.com/your-repo/issues)
- é‚®ç®±: your-email@example.com

---

**WardGuard** - è®©ç§‘å®¤ç®¡ç†æ›´ç®€å•ã€æ›´é«˜æ•ˆï¼